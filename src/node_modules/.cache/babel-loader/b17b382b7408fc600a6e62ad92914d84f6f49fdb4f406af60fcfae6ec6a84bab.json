{"ast":null,"code":"var _jsxFileName = \"/home/oscar/santiago_react/santiago_tulantepec_01/src/Menu.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { checkServerStatus, handleErrorResponse } from './utilidades'; // Reemplaza './utilidades' con la ruta correcta donde estén definidas estas funciones\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Menu() {\n  _s();\n  useEffect(() => {\n    async function checkTokenAndProceed() {\n      const token = getCookie('token');\n      if (!token) {\n        console.error('Token not found. Redirecting to login page.');\n        window.location.href = '/login';\n        return false; // Agregamos esta línea para indicar que no hay token\n      }\n      try {\n        const serverStatusResponse = await checkServerStatus();\n        if (serverStatusResponse.status === 200) {\n          // Si el servidor está disponible, continuar con la operación\n          return true;\n        } else if (serverStatusResponse.status === 401) {\n          // Si el token es inválido, redirigir a la página de inicio de sesión\n          window.location.href = \"/login\";\n          alert(\"Token inválido\");\n        } else {\n          // Si hay algún otro error, manejarlo adecuadamente\n          handleErrorResponse(serverStatusResponse.status, serverStatusResponse.statusText);\n        }\n      } catch (error) {\n        console.error('Error:', error);\n        document.getElementById('statusMessage').innerText = 'Error comprobando el estado del servidor';\n      }\n      return false;\n    }\n\n    // Función para obtener el valor de una cookie por su nombre\n    function getCookie(cookieName) {\n      const name = cookieName + \"=\";\n      const decodedCookie = decodeURIComponent(document.cookie);\n      const cookieArray = decodedCookie.split(';');\n      for (let i = 0; i < cookieArray.length; i++) {\n        let cookie = cookieArray[i];\n        while (cookie.charAt(0) === ' ') {\n          cookie = cookie.substring(1);\n        }\n        if (cookie.indexOf(name) === 0) {\n          return cookie.substring(name.length, cookie.length);\n        }\n      }\n      return \"\";\n    }\n\n    // Llamamos a la función al cargar la página\n    checkTokenAndProceed();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"menu-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"button\",\n        href: \"/carreras\",\n        children: \"Horarios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"button\",\n        href: \"/administrar_aulas\",\n        children: \"Aulas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(Menu, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Menu;\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useEffect","checkServerStatus","handleErrorResponse","jsxDEV","_jsxDEV","Menu","_s","checkTokenAndProceed","token","getCookie","console","error","window","location","href","serverStatusResponse","status","alert","statusText","document","getElementById","innerText","cookieName","name","decodedCookie","decodeURIComponent","cookie","cookieArray","split","i","length","charAt","substring","indexOf","id","children","fileName","_jsxFileName","lineNumber","columnNumber","method","className","_c","$RefreshReg$"],"sources":["/home/oscar/santiago_react/santiago_tulantepec_01/src/Menu.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { checkServerStatus, handleErrorResponse } from './utilidades'; // Reemplaza './utilidades' con la ruta correcta donde estén definidas estas funciones\n\n\nfunction Menu() {\n  useEffect(() => {\n    async function checkTokenAndProceed() {\n      const token = getCookie('token');\n\n      if (!token) {\n          console.error('Token not found. Redirecting to login page.');\n          window.location.href = '/login';\n          return false; // Agregamos esta línea para indicar que no hay token\n      }\n\n      try {\n          const serverStatusResponse = await checkServerStatus();\n\n          if (serverStatusResponse.status === 200) {\n              // Si el servidor está disponible, continuar con la operación\n              return true;\n          } else if (serverStatusResponse.status === 401) {\n              // Si el token es inválido, redirigir a la página de inicio de sesión\n              window.location.href = \"/login\";\n              alert(\"Token inválido\");\n          } else {\n              // Si hay algún otro error, manejarlo adecuadamente\n              handleErrorResponse(serverStatusResponse.status, serverStatusResponse.statusText);\n          }\n      } catch (error) {\n          console.error('Error:', error);\n          document.getElementById('statusMessage').innerText = 'Error comprobando el estado del servidor';\n      }\n\n      return false;\n    }\n\n    // Función para obtener el valor de una cookie por su nombre\n    function getCookie(cookieName) {\n      const name = cookieName + \"=\";\n      const decodedCookie = decodeURIComponent(document.cookie);\n      const cookieArray = decodedCookie.split(';');\n      for (let i = 0; i < cookieArray.length; i++) {\n          let cookie = cookieArray[i];\n          while (cookie.charAt(0) === ' ') {\n              cookie = cookie.substring(1);\n          }\n          if (cookie.indexOf(name) === 0) {\n              return cookie.substring(name.length, cookie.length);\n          }\n      }\n      return \"\";\n    }\n\n    // Llamamos a la función al cargar la página\n    checkTokenAndProceed();\n  }, []);\n\n  return (\n    <div id=\"menu-container\">\n      <h1>Menu</h1>\n      <form method=\"post\">\n          <a className=\"button\" href=\"/carreras\">Horarios</a>\n          <a className=\"button\" href=\"/administrar_aulas\">Aulas</a>\n      </form>\n    </div>\n  );\n}\n\nexport default Menu;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}